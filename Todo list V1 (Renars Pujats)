<!DOCTYPE html>
<html lang="lv">
<head>
    <meta charset="UTF-8">
    <title>Kas ir jāizdara?</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
       .izsvitrots {
      text-decoration: line-through;
      color: gray;
    }  
    </style>
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="card">
        <div class="card-body">
            <h3>Mani darbi</h3>

            <div class="input-group mb-3">
                <input type="text" id="taskInput" class="form-control" placeholder="Ievadi darbu">
                <button class="btn btn-primary" onclick="addTask()">Pievienot</button>
            </div>

            <ul id="taskList" class="list-group"></ul>
        </div>
    </div>
</div>

<script>
function addTask() {
    let input = document.getElementById("taskInput");
 let priority = document.getElementById("prioritySelect").value;
    let list = document.getElementById("taskList");

    if (input.value === "") return;

let Krasas;
    let PogasTeksts;

    if (priority === "secondary") {
        Krasas = "btn-secondary";
        PogasTeksts = "Zema";
    } else if (priority === "warning") {
        Krasas = "btn-warning";
        PogasTeksts = "Vidēja";
    } else {
        Krasas = "btn-danger";
        PogasTeksts = "SVARĪGI!";
    }


  list.innerHTML += `
        <li onclick="izsvitrot(this)" class="list-group-item d-flex justify-content-between align-items-center">
            <div class="d-flex align-items-center">
         <button class="btn btn-sm ${Krasas} me-2" disabled>${PogasTeksts}</button>
              <span> ${input.value}
            </span>
            </div>
            <button class="btn btn-danger btn-sm"
                onclick="this.parentElement.remove()">
                Dzēst
            </button>
        </li>
    `;
    saveData();
  input.value = "";
} 
function izsvitrot(elements) {
    console.log(elements.closest("li"));
    elements.closest("li").classList.toggle("izsvitrots");
     saveData();
}

function saveData() {
    let listHTML = document.getElementById("taskList").innerHTML;
    localStorage.setItem("li", JSON.stringify(listHTML));
}

function loadData() {
let saved = JSON.parse(localStorage.getItem("li"));
if (saved) { 
    document.getElementById("taskList").innerHTML = saved;
}
}

loadData();
</script>

</body>
</html>
